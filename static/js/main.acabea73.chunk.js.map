{"version":3,"sources":["State.tsx","Constants.js","Actions.tsx","Pointer.tsx","GitInfo.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["imageMesh","imageMeshMaterial","imageGeometry","outlineVertices","Float32Array","getWorldPixelAtZ","z","camera","Math","tan","fov","PI","window","innerHeight","loadImage","image","src","a","THREE","load","texture","img","worldPixel","State","w","width","h","height","mesh","scale","set","material","map","setPointer","pointer","x","y","mouse","clip","innerWidth","clip2","target","tempClip","projectToZ","copy","unproject","sub","position","normalize","distance","add","multiplyScalar","setRay","ray","getDimensions","portal","srcWidth","max","min","srcHeight","dstWidth","dst","dstHeight","updateLines","line1","geometry","attributes","array","needsUpdate","makeOutline","color","lineWidth","setAttribute","linewidth","makeLine","makePortal","srcDims","dstDims","portals","s","d","dx","dy","dw","dh","sx","sy","sw","sh","outline","occluder","scene","createPortal","transparent","opacity","userData","kind","Uint8Array","scene2","colorWrite","srcOutline","scene3","dstOutline","maxOrder","length","renderOrder","minOrder","push","drawPointer","ray1","ray2","drawBox","diff","visible","subVectors","canvas","renderer","scene4","raycaster","zoomRay","intersects","box","down","cameraDown","diffMouse","active","middle","colorMagenta","setIntersections","meshes","concat","setFromCamera","top","areas","indexOf","getSmallestTop","intersectObjects","intersect","object","style","cursor","intersectIds","uuid","i","srcMesh","dstMesh","includes","setHex","Pointer","useEffect","pointerDown","e","clientX","clientY","setPointerDown","which","origin","setPointerCapture","pointerId","pointerMove","setX","setY","index","pointerUp","dims","releasePointerCapture","mouseWheel","visibleHeight","ratio","deltaY","prevScaleX","prevScaleY","nextScaleX","nextScaleY","diffx","rx","newRx","diffy","ry","newRy","newTexture","addEventListener","passive","removeEventListener","GitInfo","right","bottom","background","fontSize","lineHeight","href","rel","gitInfo","lastCommit","App","canvasRef","useRef","useState","loaded","setLoaded","current","setSize","autoClear","vector","animate","requestAnimationFrame","clear","render","copyFramebufferToTexture","clearDepth","aspect","updateProjectionMatrix","ref","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.acabea73.chunk.js","sourcesContent":["import * as THREE from \"three\";\nimport { makeOutline } from \"./Actions\";\n\nexport type PointerType = {\n  mouse: THREE.Vector2;\n  clip: THREE.Vector3;\n  clip2: THREE.Vector2;\n  tempClip: THREE.Vector3;\n  ray: THREE.Vector3;\n  diff: THREE.Vector3;\n  diffMouse: THREE.Vector2;\n  active: boolean;\n  middle: boolean;\n  down: {\n    mouse: THREE.Vector2;\n    clip: THREE.Vector3;\n    clip2: THREE.Vector2;\n    tempClip: THREE.Vector3;\n    ray: THREE.Vector3;\n  };\n};\n\nexport type PortalType = {\n  line1: THREE.Line;\n  src: {\n    outline: THREE.Line;\n    occluder: THREE.Mesh;\n    mesh: THREE.Mesh;\n    min: THREE.Vector3;\n    max: THREE.Vector3;\n  };\n  dst: {\n    outline: THREE.Line;\n    occluder: THREE.Mesh;\n    scene: THREE.Scene;\n    mesh: THREE.Mesh;\n    min: THREE.Vector3;\n    max: THREE.Vector3;\n  };\n};\n\nexport type ImageType = {\n  mesh: THREE.Mesh;\n  material: THREE.MeshBasicMaterial;\n  geometry: THREE.PlaneGeometry;\n  box: THREE.Box3;\n  down: THREE.Vector3;\n};\n\ntype DrawBoxType = {\n  min: THREE.Vector3;\n  max: THREE.Vector3;\n  diff: THREE.Vector3;\n  outline: THREE.Line;\n};\n\ntype StateType = {\n  canvas: HTMLCanvasElement | null;\n  camera: THREE.PerspectiveCamera | null;\n  renderer: THREE.WebGLRenderer | null;\n  raycaster: THREE.Raycaster;\n  drawBox: DrawBoxType;\n  scene: THREE.Scene;\n  scene2: THREE.Scene;\n  scene3: THREE.Scene;\n  scene4: THREE.Scene;\n  zoomRay: {\n    ray: THREE.Vector3;\n    tempClip: THREE.Vector3;\n    clip: THREE.Vector3;\n  };\n  pointer: PointerType;\n  intersects: Array<THREE.Object3D>;\n  image: ImageType;\n  cameraDown: THREE.Vector3;\n  portals: Array<PortalType>;\n};\n\nlet imageMesh, imageMeshMaterial, imageGeometry;\n{\n  const geometry = new THREE.PlaneGeometry();\n  const texture = new THREE.Texture();\n  const material = new THREE.MeshBasicMaterial({ map: texture });\n  const mesh = new THREE.Mesh(geometry, material);\n  imageGeometry = geometry;\n  imageMeshMaterial = material;\n  imageMesh = mesh;\n}\n\nconst State: StateType = {\n  canvas: null,\n  camera: null,\n  renderer: null,\n  scene: new THREE.Scene(),\n  scene2: new THREE.Scene(),\n  scene3: new THREE.Scene(),\n  scene4: new THREE.Scene(),\n  raycaster: new THREE.Raycaster(),\n  zoomRay: {\n    clip: new THREE.Vector3(),\n    tempClip: new THREE.Vector3(),\n    ray: new THREE.Vector3(),\n  },\n  drawBox: {\n    min: new THREE.Vector3(),\n    max: new THREE.Vector3(),\n    diff: new THREE.Vector3(),\n    outline: makeOutline(0xffffff, 2),\n  },\n  intersects: [],\n  image: {\n    mesh: imageMesh,\n    material: imageMeshMaterial,\n    geometry: imageGeometry,\n    box: new THREE.Box3(),\n    down: new THREE.Vector3(),\n  },\n  cameraDown: new THREE.Vector3(),\n  portals: [],\n  pointer: {\n    mouse: new THREE.Vector2(),\n    clip: new THREE.Vector3(),\n    clip2: new THREE.Vector2(),\n    tempClip: new THREE.Vector3(),\n    ray: new THREE.Vector3(),\n    diffMouse: new THREE.Vector2(),\n    diff: new THREE.Vector3(),\n    active: false,\n    middle: false,\n    down: {\n      mouse: new THREE.Vector2(),\n      clip: new THREE.Vector3(),\n      clip2: new THREE.Vector2(),\n      tempClip: new THREE.Vector3(),\n      ray: new THREE.Vector3(),\n    },\n  },\n};\n\nexport default State;\n","export const outlineVertices = new Float32Array([\n  -0.5, -0.5, 0, 0.5, -0.5, 0, 0.5, 0.5, 0, -0.5, 0.5, 0, -0.5, -0.5, 0,\n]);\n","import * as THREE from \"three\";\nimport { outlineVertices } from \"./Constants\";\nimport State, { PointerType, PortalType, ImageType } from \"./State\";\n\nexport const getWorldPixelAtZ = (\n  z: number,\n  camera: THREE.PerspectiveCamera | null\n) => {\n  if (camera) {\n    const visibleHeight = 2 * Math.tan((camera.fov * Math.PI) / 360) * z;\n    // convert to ratio based on pixel\n    return visibleHeight / window.innerHeight;\n  } else {\n    return 1;\n  }\n};\n\nexport const setRay = (\n  target: THREE.Vector3,\n  tempClip: THREE.Vector3,\n  clip: THREE.Vector3,\n  camera: THREE.PerspectiveCamera | null,\n  projectToZ: number\n) => {\n  if (camera !== null) {\n    tempClip.copy(clip);\n    tempClip.unproject(camera);\n    tempClip.sub(camera.position).normalize();\n    const distance = (projectToZ - camera.position.z) / tempClip.z;\n    target.copy(camera.position).add(tempClip.multiplyScalar(distance));\n  }\n};\n\nexport const loadImage = async (image: ImageType, src: string) => {\n  const loader = new THREE.TextureLoader();\n  loader.load(src, function (texture) {\n    const img = texture.image;\n\n    // TODO temp scale down for bowie, usually 5\n    const worldPixel = getWorldPixelAtZ(1.5, State.camera);\n    const w = img.width * worldPixel;\n    const h = img.height * worldPixel;\n\n    image.mesh.scale.set(w, h, 1);\n    image.material.map = texture;\n  });\n};\n\nexport const setPointer = (pointer: PointerType, x: number, y: number) => {\n  pointer.mouse.set(x, y);\n  pointer.clip.set(\n    (x / window.innerWidth) * 2 - 1,\n    -(y / window.innerHeight) * 2 + 1,\n    0.5\n  );\n  pointer.clip2.set(pointer.clip.x, pointer.clip.y);\n  if (State.camera !== null) {\n    setRay(pointer.ray, pointer.tempClip, pointer.clip, State.camera, 0);\n  }\n};\n\nexport const setPointerDown = (pointer: PointerType) => {\n  // Assumes pointer is up to date\n  pointer.down.mouse.copy(pointer.mouse);\n  pointer.down.clip.copy(pointer.clip);\n  pointer.down.ray.copy(pointer.ray);\n};\n\nexport const getDimensions = (portal: PortalType) => {\n  const srcWidth = portal.src.max.x - portal.src.min.x;\n  const srcHeight = portal.src.max.y - portal.src.min.y;\n  const dstWidth = portal.dst.max.x - portal.dst.min.x;\n  const dstHeight = portal.dst.max.y - portal.dst.min.y;\n  return { srcWidth, srcHeight, dstWidth, dstHeight };\n};\n\nexport const updateLines = (portal: any) => {\n  portal.line1.geometry.attributes.position.array[0] =\n    portal.src.mesh.position.x;\n  portal.line1.geometry.attributes.position.array[1] =\n    portal.src.mesh.position.y;\n  portal.line1.geometry.attributes.position.array[3] =\n    portal.dst.mesh.position.x;\n  portal.line1.geometry.attributes.position.array[4] =\n    portal.dst.mesh.position.y;\n  portal.line1.geometry.attributes.position.needsUpdate = true;\n};\n\nexport const getTop = (meshes: Array<THREE.Object3D>) => {\n  if (meshes.length === 1) {\n    return meshes;\n  } else if (meshes.length === 0) {\n    return [];\n  } else {\n    const renderOrder = meshes.map((mesh) => mesh.renderOrder);\n    const max = Math.max(...renderOrder);\n    const maxIndex = renderOrder.indexOf(max);\n    return [meshes[maxIndex]];\n  }\n};\n\nexport const getSmallestTop = (meshes: Array<THREE.Object3D>) => {\n  if (meshes.length === 1) {\n    return meshes;\n  } else if (meshes.length === 0) {\n    return [];\n  } else {\n    const areas = meshes.map((mesh) => mesh.scale.x * mesh.scale.y);\n    const min = Math.min(...areas);\n    const minIndex = areas.indexOf(min);\n    // const renderOrder = meshes.map((mesh) => mesh.renderOrder);\n    // const max = Math.max(...renderOrder);\n    // const maxIndex = renderOrder.indexOf(max);\n    return [meshes[minIndex]];\n  }\n};\n\nexport const makeOutline = (color: any, lineWidth: number) => {\n  const geometry = new THREE.BufferGeometry();\n  geometry.setAttribute(\n    \"position\",\n    new THREE.BufferAttribute(outlineVertices, 3)\n  );\n  const material = new THREE.LineBasicMaterial({\n    color: color,\n    linewidth: lineWidth,\n  });\n  const outline = new THREE.Line(geometry, material);\n  return outline;\n};\n\nconst makeLine = () => {\n  const geometry = new THREE.BufferGeometry();\n  geometry.setAttribute(\n    \"position\",\n    new THREE.BufferAttribute(new Float32Array([-1, -1, 0, 1, 1, 0]), 3)\n  );\n  const material = new THREE.LineBasicMaterial({\n    color: 0xaaaaaa,\n    linewidth: 2,\n  });\n  return new THREE.Line(geometry, material);\n};\n\nexport const createPortal = (\n  s: Array<number>,\n  d: Array<number>\n): PortalType => {\n  const [dx, dy, dw, dh] = d;\n  const [sx, sy, sw, sh] = s;\n  return {\n    line1: makeLine(),\n    src: {\n      outline: makeOutline(0xaaaaaa, 2),\n      mesh: new THREE.Mesh(),\n      occluder: new THREE.Mesh(),\n      min: new THREE.Vector3(sx - sw / 2, sy - sh / 2, 0),\n      max: new THREE.Vector3(sx + sw / 2, sy + sh / 2, 0),\n    },\n    dst: {\n      outline: makeOutline(0xaaaaaa, 4),\n      mesh: new THREE.Mesh(),\n      scene: new THREE.Scene(),\n      occluder: new THREE.Mesh(),\n      min: new THREE.Vector3(dx - dw / 2, dy - dh / 2, 0),\n      max: new THREE.Vector3(dx + dw / 2, dy + dh / 2, 0),\n    },\n  };\n};\n\nexport const makePortal = (\n  srcDims: Array<number>,\n  dstDims: Array<number>,\n  portals: Array<PortalType>,\n  camera: THREE.Camera\n) => {\n  const portal = createPortal(srcDims, dstDims);\n\n  const { srcWidth, srcHeight, dstWidth, dstHeight } = getDimensions(portal);\n  const worldPixel = getWorldPixelAtZ(camera.position.z, State.camera);\n\n  const makeSrcTexture = () => {\n    return new THREE.DataTexture(\n      new Uint8Array((srcWidth / worldPixel) * (srcHeight / worldPixel) * 3),\n      srcWidth / worldPixel,\n      srcHeight / worldPixel,\n      THREE.RGBFormat\n    );\n  };\n\n  const x = portal.dst.min.x + dstWidth / 2;\n  const y = portal.dst.min.y + dstHeight / 2;\n\n  // set src mesh\n  {\n    const mesh = portal.src.mesh;\n    const geometry = new THREE.PlaneGeometry();\n    const material = new THREE.MeshBasicMaterial({\n      transparent: true,\n      opacity: 0,\n    });\n    mesh.geometry = geometry;\n    mesh.material = material;\n    mesh.userData.kind = \"src\";\n\n    mesh.scale.set(srcWidth, srcHeight, 1);\n    mesh.position.x = portal.src.min.x + srcWidth / 2;\n    mesh.position.y = portal.src.min.y + srcHeight / 2;\n\n    if (State.scene) State.scene.add(mesh);\n  }\n\n  // set dst mesh\n  {\n    const texture = makeSrcTexture();\n    const mesh = portal.dst.mesh;\n    const geometry = new THREE.PlaneGeometry();\n    const material = new THREE.MeshBasicMaterial({ map: texture });\n    mesh.userData.kind = \"dst\";\n    mesh.geometry = geometry;\n    mesh.material = material;\n\n    mesh.scale.set(dstWidth, dstHeight, 1);\n    mesh.position.x = x;\n    mesh.position.y = y;\n\n    portal.dst.scene.add(mesh);\n  }\n\n  // set dst line\n  State.scene2.add(portal.line1);\n\n  // set src occluder\n  {\n    const occluder = portal.src.occluder;\n    const geometry = new THREE.PlaneGeometry();\n    const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n    occluder.geometry = geometry;\n    occluder.material = material;\n    occluder.scale.set(srcWidth, srcHeight, 1);\n    occluder.position.x = portal.src.min.x + srcWidth / 2;\n    occluder.position.y = portal.src.min.y + srcHeight / 2;\n    occluder.position.z = 0.00001;\n    occluder.material.colorWrite = false;\n    State.scene2.add(occluder);\n  }\n\n  // set dst occluder\n  {\n    const occluder = portal.dst.occluder;\n    const geometry = new THREE.PlaneGeometry();\n    const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n    occluder.geometry = geometry;\n    occluder.material = material;\n    occluder.scale.set(dstWidth, dstHeight, 1);\n    occluder.position.x = portal.dst.min.x + dstWidth / 2;\n    occluder.position.y = portal.dst.min.y + dstHeight / 2;\n    occluder.position.z = 0.00001;\n    occluder.material.colorWrite = false;\n    State.scene2.add(occluder);\n  }\n\n  // set src outline\n  {\n    const srcOutline = portal.src.outline;\n    srcOutline.scale.set(srcWidth, srcHeight, 1);\n    srcOutline.position.x = portal.src.min.x + srcWidth / 2;\n    srcOutline.position.y = portal.src.min.y + srcHeight / 2;\n    State.scene3.add(portal.src.outline);\n  }\n\n  // set dst outline\n  {\n    const dstOutline = portal.dst.outline;\n    // @ts-ignore\n    dstOutline.material.lineWidth = 4;\n    // @ts-ignore\n    dstOutline.material.needsUpdate = true;\n    dstOutline.scale.set(dstWidth, dstHeight, 1);\n    dstOutline.position.x = portal.dst.min.x + dstWidth / 2;\n    dstOutline.position.y = portal.dst.min.y + dstHeight / 2;\n    // portal.dst.scene.add(portal.dst.outline);\n    State.scene3.add(portal.dst.outline);\n  }\n\n  const maxOrder =\n    portals.length > 0\n      ? Math.max(...portals.map((portal) => portal.src.mesh.renderOrder)) + 1\n      : 0;\n\n  const minOrder =\n    portals.length > 0\n      ? Math.min(...portals.map((portal) => portal.dst.outline.renderOrder)) - 1\n      : 999;\n\n  portal.src.mesh.renderOrder = maxOrder;\n  portal.dst.mesh.renderOrder = maxOrder + 1;\n\n  portal.line1.renderOrder = minOrder;\n  portal.src.occluder.renderOrder = minOrder - 1;\n  portal.dst.occluder.renderOrder = minOrder - 2;\n  portal.src.outline.renderOrder = minOrder - 3;\n\n  portal.dst.outline.renderOrder = minOrder - 2;\n\n  State.portals.push(portal);\n\n  updateLines(portal);\n};\n\nexport const drawPointer = (ray1: THREE.Vector3, ray2: THREE.Vector3) => {\n  const { outline, min, max, diff } = State.drawBox;\n  outline.visible = true;\n  min.copy(ray1).min(ray2);\n  max.copy(ray1).max(ray2);\n  diff.subVectors(max, min);\n  outline.position.x = min.x + diff.x / 2;\n  outline.position.y = min.y + diff.y / 2;\n  outline.scale.x = diff.x;\n  outline.scale.y = diff.y;\n};\n","import { useEffect } from \"react\";\nimport State from \"./State\";\nimport * as THREE from \"three\";\nimport {\n  setPointer,\n  setPointerDown,\n  getWorldPixelAtZ,\n  updateLines,\n  getSmallestTop,\n  drawPointer,\n  makePortal,\n  getDimensions,\n} from \"./Actions\";\n\n// const colorCyan = new THREE.Color(\"rgb(152, 215, 170)\");\nconst colorMagenta = new THREE.Color(\"rgb(238, 88, 181)\");\n\nconst setIntersections = (pointer: any) => {\n  const { portals, raycaster, camera, canvas } = State;\n  if (camera && canvas) {\n    const meshes = portals\n      .map((portal) => portal.dst.mesh)\n      .concat(portals.map((portal) => portal.src.mesh));\n\n    raycaster.setFromCamera(pointer.clip2, camera);\n    const intersects = State.raycaster\n      .intersectObjects(meshes)\n      .map((intersect) => intersect.object);\n\n    const top = getSmallestTop(intersects);\n\n    State.intersects = top;\n\n    if (top.length > 0) {\n      canvas.style.cursor = \"default\";\n    } else {\n      canvas.style.cursor = \"crosshair\";\n    }\n\n    const intersectIds = State.intersects.map((intersect) => intersect.uuid);\n    for (let i = 0; i < portals.length; i++) {\n      const portal = portals[i];\n      const srcMesh = portal.src.mesh;\n      const dstMesh = portal.dst.mesh;\n      if (\n        intersectIds.includes(srcMesh.uuid) ||\n        intersectIds.includes(dstMesh.uuid)\n      ) {\n        // @ts-ignore\n        portal.src.outline.material.color.set(colorMagenta);\n        // @ts-ignore\n        portal.dst.outline.material.color.set(colorMagenta);\n        // @ts-ignore\n        portal.line1.material.color.set(colorMagenta);\n        // portal.src.outline.visible = true;\n        // portal.dst.outline.visible = true;\n        // portal.line1.visible = true;\n      } else {\n        // @ts-ignore\n        portal.src.outline.material.color.setHex(0xaaaaaa);\n        // @ts-ignore\n        portal.dst.outline.material.color.setHex(0xaaaaaa);\n        // @ts-ignore\n        portal.line1.material.color.setHex(0xaaaaaa);\n        // portal.src.outline.visible = false;\n        // portal.dst.outline.visible = false;\n        // portal.line1.visible = false;\n      }\n    }\n  }\n};\n\nconst Pointer = () => {\n  useEffect(() => {\n    const { canvas, pointer, camera, cameraDown, image, portals } = State;\n    if (canvas && camera) {\n      const pointerDown = (e: PointerEvent) => {\n        setPointer(pointer, e.clientX, e.clientY);\n        setPointerDown(pointer);\n        image.down.copy(image.mesh.position);\n        cameraDown.copy(camera.position);\n        pointer.active = true;\n        pointer.middle = e.which === 2;\n\n        setIntersections(pointer);\n\n        if (State.intersects.length > 0) {\n          const mesh = State.intersects[0];\n          mesh.userData.origin = new THREE.Vector3();\n          mesh.userData.origin.copy(mesh.position);\n        } else {\n          drawPointer(pointer.down.ray, pointer.ray);\n          // makePortal(\n          //   [pointer.ray.x, pointer.ray.y, 1, 1],\n          //   [pointer.ray.x, pointer.ray.y, 1, 1],\n          //   State.portals,\n          //   camera,\n          //   State.scene2\n          // );\n          // setIntersections(pointer);\n          // if (State.intersects.length > 0) {\n          //   const mesh = State.intersects[0];\n          //   mesh.userData.origin = new THREE.Vector3();\n          //   mesh.userData.origin.copy(mesh.position);\n          // }\n        }\n\n        canvas.setPointerCapture(e.pointerId);\n      };\n\n      const pointerMove = (e: PointerEvent) => {\n        setPointer(pointer, e.clientX, e.clientY);\n\n        if (pointer.active) {\n          pointer.diffMouse.copy(pointer.mouse).sub(pointer.down.mouse);\n          const worldPixel = getWorldPixelAtZ(camera.position.z, camera);\n          const dx = pointer.diffMouse.x * worldPixel;\n          const dy = pointer.diffMouse.y * worldPixel;\n\n          if (pointer.middle) {\n            // pan when mousewheel button is pressed\n            // pan actually means ove image\n            image.mesh.position.setX(image.down.x + dx);\n            image.mesh.position.setY(image.down.y - dy);\n          } else {\n            if (State.drawBox.outline.visible) {\n              drawPointer(pointer.down.ray, pointer.ray);\n            } else if (State.intersects.length > 0) {\n              const mesh = State.intersects[0];\n              if (mesh.userData.kind === \"dst\") {\n                const index = portals\n                  .map((portal) => portal.dst.mesh.uuid)\n                  .indexOf(mesh.uuid);\n                const portal = portals[index];\n                mesh.position.setX(mesh.userData.origin.x + dx);\n                mesh.position.setY(mesh.userData.origin.y - dy);\n                const x = mesh.userData.origin.x + dx;\n                const y = mesh.userData.origin.y - dy;\n                portal.dst.min.setX(x - mesh.scale.x / 2);\n                portal.dst.min.setY(y - mesh.scale.y / 2);\n                portal.dst.max.setX(x + mesh.scale.x / 2);\n                portal.dst.max.setY(y + mesh.scale.y / 2);\n\n                portals[index].dst.occluder.position.setX(x);\n                portals[index].dst.occluder.position.setY(y);\n                portals[index].dst.outline.position.setX(x);\n                portals[index].dst.outline.position.setY(y);\n\n                updateLines(portal);\n              } else if (mesh.userData.kind === \"src\") {\n                const index = portals\n                  .map((portal) => portal.src.mesh.uuid)\n                  .indexOf(mesh.uuid);\n                const portal = portals[index];\n                const x = mesh.userData.origin.x + dx;\n                const y = mesh.userData.origin.y - dy;\n                mesh.position.setX(x);\n                mesh.position.setY(y);\n                portal.src.min.setX(x - mesh.scale.x / 2);\n                portal.src.min.setY(y - mesh.scale.y / 2);\n                portal.src.max.setX(x + mesh.scale.x / 2);\n                portal.src.max.setY(y + mesh.scale.y / 2);\n\n                portals[index].src.occluder.position.setX(x);\n                portals[index].src.occluder.position.setY(y);\n                portals[index].src.outline.position.setX(x);\n                portals[index].src.outline.position.setY(y);\n\n                portal.src.outline.position.setX(mesh.userData.origin.x + dx);\n                portal.src.outline.position.setY(mesh.userData.origin.y - dy);\n\n                updateLines(portal);\n              }\n            }\n          }\n        } else {\n          setIntersections(pointer);\n        }\n      };\n\n      const pointerUp = (e: PointerEvent) => {\n        pointer.active = false;\n        pointer.middle = false;\n\n        if (State.drawBox.outline.visible === true) {\n          const width = State.drawBox.diff.x;\n          const height = State.drawBox.diff.y;\n          const dims = [\n            State.drawBox.min.x + width / 2,\n            State.drawBox.min.y + height / 2,\n            width,\n            height,\n          ];\n          if (State.scene2) {\n            makePortal(dims, dims, State.portals, camera);\n            State.drawBox.outline.visible = false;\n          }\n        }\n\n        canvas.releasePointerCapture(e.pointerId);\n      };\n\n      const mouseWheel = (e: Event) => {\n        const visibleHeight = window.innerHeight;\n        // @ts-ignore\n        const adjusted = visibleHeight + e.deltaY;\n        const ratio = visibleHeight / adjusted;\n\n        if (State.intersects.length > 0) {\n          for (let mesh of State.intersects) {\n            // if (group.userData.selected) {\n            const prevScaleX = mesh.scale.x;\n            const prevScaleY = mesh.scale.y;\n            const nextScaleX = prevScaleX * ratio;\n            const nextScaleY = prevScaleY * ratio;\n\n            const diffx = pointer.ray.x - mesh.position.x;\n            const rx = diffx / prevScaleX;\n            const newRx = diffx / nextScaleX;\n            const x = mesh.position.x + (newRx - rx) * nextScaleX;\n\n            const diffy = pointer.ray.y - mesh.position.y;\n            const ry = diffy / prevScaleY;\n            const newRy = diffy / nextScaleY;\n            const y = mesh.position.y + (newRy - ry) * nextScaleY;\n\n            mesh.position.x = x;\n            mesh.position.y = y;\n            mesh.scale.multiplyScalar(ratio);\n\n            if (mesh.userData.kind === \"dst\") {\n              const index = portals\n                .map((portal) => portal.dst.mesh.uuid)\n                .indexOf(mesh.uuid);\n              const portal = portals[index];\n              portals[index].dst.occluder.position.setX(x);\n              portals[index].dst.occluder.position.setY(y);\n              portals[index].dst.outline.position.setX(x);\n              portals[index].dst.outline.position.setY(y);\n              portals[index].dst.outline.scale.copy(mesh.scale);\n              portals[index].dst.occluder.scale.copy(mesh.scale);\n\n              portal.dst.min.setX(x - mesh.scale.x / 2);\n              portal.dst.min.setY(y - mesh.scale.y / 2);\n              portal.dst.max.setX(x + mesh.scale.x / 2);\n              portal.dst.max.setY(y + mesh.scale.y / 2);\n\n              updateLines(portal);\n            } else if (mesh.userData.kind === \"src\") {\n              const index = portals\n                .map((portal) => portal.src.mesh.uuid)\n                .indexOf(mesh.uuid);\n              const portal = portals[index];\n              mesh.position.setX(x);\n              mesh.position.setY(y);\n              portals[index].src.occluder.position.setX(x);\n              portals[index].src.occluder.position.setY(y);\n              portals[index].src.outline.position.setX(x);\n              portals[index].src.outline.position.setY(y);\n\n              portal.src.outline.position.setX(x);\n              portal.src.outline.position.setY(y);\n\n              portals[index].src.outline.scale.copy(mesh.scale);\n              portals[index].src.occluder.scale.copy(mesh.scale);\n\n              portal.src.min.setX(x - mesh.scale.x / 2);\n              portal.src.min.setY(y - mesh.scale.y / 2);\n              portal.src.max.setX(x + mesh.scale.x / 2);\n              portal.src.max.setY(y + mesh.scale.y / 2);\n\n              const { srcWidth, srcHeight } = getDimensions(portal);\n              const worldPixel = getWorldPixelAtZ(\n                camera.position.z,\n                State.camera\n              );\n              const makeSrcTexture = () => {\n                return new THREE.DataTexture(\n                  new Uint8Array(\n                    (srcWidth / worldPixel) * (srcHeight / worldPixel) * 3\n                  ),\n                  srcWidth / worldPixel,\n                  srcHeight / worldPixel,\n                  THREE.RGBFormat\n                );\n              };\n              const newTexture = makeSrcTexture();\n              // @ts-ignore\n              portal.dst.mesh.material.map = newTexture;\n\n              updateLines(portal);\n            }\n          }\n        } else {\n          const prevScaleX = image.mesh.scale.x;\n          const prevScaleY = image.mesh.scale.y;\n          const nextScaleX = prevScaleX * ratio;\n          const nextScaleY = prevScaleY * ratio;\n\n          const diffx = pointer.ray.x - image.mesh.position.x;\n          const rx = diffx / prevScaleX;\n          const newRx = diffx / nextScaleX;\n          const x = image.mesh.position.x + (newRx - rx) * nextScaleX;\n\n          const diffy = pointer.ray.y - image.mesh.position.y;\n          const ry = diffy / prevScaleY;\n          const newRy = diffy / nextScaleY;\n          const y = image.mesh.position.y + (newRy - ry) * nextScaleY;\n\n          image.mesh.position.x = x;\n          image.mesh.position.y = y;\n          image.mesh.scale.multiplyScalar(ratio);\n        }\n      };\n\n      canvas.addEventListener(\"pointerdown\", pointerDown);\n      canvas.addEventListener(\"pointermove\", pointerMove);\n      canvas.addEventListener(\"pointerup\", pointerUp);\n      canvas.addEventListener(\"pointercancel\", pointerUp);\n      canvas.addEventListener(\"mousewheel\", mouseWheel, { passive: false });\n      return () => {\n        canvas.removeEventListener(\"pointerdown\", pointerDown);\n        canvas.removeEventListener(\"pointermove\", pointerMove);\n        canvas.removeEventListener(\"pointerup\", pointerUp);\n        canvas.removeEventListener(\"pointercancel\", pointerUp);\n        canvas.removeEventListener(\"mousewheel\", mouseWheel);\n      };\n    }\n  }, []);\n\n  return null;\n};\n\nexport default Pointer;\n","import gitInfo from \"./gitInfo.json\";\n\nconst GitInfo = () => {\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        right: 0,\n        bottom: 0,\n        background: \"white\",\n        color: \"black\",\n        fontSize: 13,\n        lineHeight: 1.2,\n      }}\n    >\n      Under construction\n      <br />\n      <a\n        href=\"https://github.com/constraint-systems/portal\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        {gitInfo.lastCommit}\n      </a>\n    </div>\n  );\n};\n\nexport default GitInfo;\n","import { useEffect, useRef, useState } from \"react\";\nimport * as THREE from \"three\";\nimport State from \"./State\";\nimport Pointer from \"./Pointer\";\nimport { getWorldPixelAtZ, loadImage } from \"./Actions\";\nimport GitInfo from \"./GitInfo\";\n\nconst App = () => {\n  const canvasRef = useRef(null);\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    State.canvas = canvas;\n\n    if (canvas !== null) {\n      const camera = new THREE.PerspectiveCamera(\n        75,\n        window.innerWidth / window.innerHeight,\n        0.1,\n        1000\n      );\n      State.camera = camera;\n\n      const renderer = new THREE.WebGLRenderer({ canvas: canvas });\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      renderer.autoClear = false;\n      State.renderer = renderer;\n\n      setLoaded(true);\n\n      State.scene.add(State.image.mesh);\n      loadImage(State.image, \"bowiebig.png\");\n\n      camera.position.z = 5;\n\n      State.drawBox.outline.visible = false;\n      State.drawBox.outline.renderOrder = 999;\n      State.scene3.add(State.drawBox.outline);\n\n      // makePortal([-1, -1, 2, 1], [2, 1, 2, 1], State.portals, camera);\n      // makePortal([-3, -1, 1, 1], [-2, 1, 1, 1], State.portals, camera);\n\n      const vector = new THREE.Vector2();\n\n      const animate = () => {\n        requestAnimationFrame(animate);\n\n        renderer.clear();\n        renderer.render(State.scene, camera);\n\n        const worldPixel = getWorldPixelAtZ(camera.position.z, State.camera);\n        for (let i = 0; i < State.portals.length; i++) {\n          const portal = State.portals[i];\n          vector.x = portal.src.min.x / worldPixel + window.innerWidth / 2;\n          vector.y = portal.src.min.y / worldPixel + window.innerHeight / 2;\n\n          renderer.copyFramebufferToTexture(\n            vector,\n            // @ts-ignore\n            portal.dst.mesh.material.map\n          );\n          renderer.render(portal.dst.scene, camera);\n        }\n\n        renderer.render(State.scene2, camera);\n        renderer.clearDepth();\n        renderer.render(State.scene3, camera);\n      };\n      animate();\n    }\n  }, []);\n\n  useEffect(() => {\n    const { camera, renderer } = State;\n    if (camera && renderer) {\n      const handleResize = () => {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      };\n      window.addEventListener(\"resize\", handleResize);\n    }\n  }, []);\n\n  return (\n    <>\n      <canvas ref={canvasRef}></canvas>\n      {loaded ? (\n        <>\n          <Pointer />\n        </>\n      ) : null}\n      <GitInfo />\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}